<!DOCTYPE html>
<html>

<head>

    <script type="text/javascript" src="kk.view.js"></script>
    <style type="text/css">
        #mindmap {
            position: absolute;
            left: 0px;
            top: 0px;
            width: 100%;
            height: 100%;
        }

        input {
            position: absolute;
            -webkit-appearance: none;
            background-color: #fff;
            color: #000;
            border: solid 1px #000;
            padding: 0px;
            margin: 0px;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <canvas id="mindmap"></canvas>
    <script type="text/javascript">

        var v = document.getElementById('mindmap');
        v.width = v.clientWidth * window.devicePixelRatio;
        v.height = v.clientHeight * window.devicePixelRatio;
        var ctx = v.getContext('2d');
        var doc = new kk.mindmap.Document();
        doc.root
            .setData({ title: '思维导图' })
            .add().setData({ title: '子节点' })
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' })
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' }).done()
            .done()
            .add().setData({ title: '子节点' }).done()
            .done()
            .add().setData({ title: '子节点' })
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' }).done()
            .done()
            .add().setData({ title: '子节点' }).done()
            .add().setData({ title: '子节点' }).done();
        var view = new kk.mindmap.DocumentView(doc);
        var scrollX = v.clientWidth * 0.2;
        var scrollY = v.clientHeight * 0.5;

        var draw = function () {
            ctx.save();
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
            ctx.clearRect(0, 0, v.clientWidth, v.clientHeight);
            view.draw(ctx, scrollX, scrollY, v.clientWidth, v.clientHeight);
            ctx.restore()
        };

        draw();
    
        window.addEventListener("resize", function (e) {
            v.width = v.clientWidth * window.devicePixelRatio;
            v.height = v.clientHeight * window.devicePixelRatio;
            ctx = v.getContext('2d');
            draw();
        });
    </script>
</body>

</html>